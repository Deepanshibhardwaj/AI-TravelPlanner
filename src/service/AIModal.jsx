import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
     export const chatSession = model.startChat({
      generationConfig,
      history: [
        
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget, Give me Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image url, Geo Coordinates, ticket Pricing, Time travel each location for 3 days with each day plan with best time to visit in JSON format\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"trip\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\",\n    \"hotels\": [\n      {\n        \"name\": \"The D Las Vegas\",\n        \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n        \"price\": \"$50 - $80 per night\",\n        \"image_url\": \"https://images.trvl-media.com/hotels/2000000/1999000/1998800/1998769/1998769_14.jpg\",\n        \"geo_coordinates\": [36.1699, -115.1420],\n        \"rating\": 4.0,\n        \"description\": \"A classic downtown hotel with a retro vibe, offering affordable rooms, a casino, and a rooftop pool.\"\n      },\n      {\n        \"name\": \"Golden Nugget Las Vegas\",\n        \"address\": \"129 E Fremont St, Las Vegas, NV 89101\",\n        \"price\": \"$60 - $100 per night\",\n        \"image_url\": \"https://images.trvl-media.com/hotels/2000000/1999000/1998800/1998769/1998769_7.jpg\",\n        \"geo_coordinates\": [36.1693, -115.1416],\n        \"rating\": 4.5,\n        \"description\": \"A luxurious downtown hotel with a lively atmosphere, featuring a shark tank, a casino, and a variety of dining options.\"\n      },\n      {\n        \"name\": \"The Orleans Hotel & Casino\",\n        \"address\": \"4500 W Tropicana Ave, Las Vegas, NV 89103\",\n        \"price\": \"$40 - $70 per night\",\n        \"image_url\": \"https://images.trvl-media.com/hotels/2000000/1999000/1998900/1998854/1998854_15.jpg\",\n        \"geo_coordinates\": [36.0914, -115.2149],\n        \"rating\": 4.0,\n        \"description\": \"A spacious hotel with a comfortable atmosphere, offering a casino, multiple restaurants, and a large pool area.\"\n      }\n    ],\n    \"itinerary\": [\n      {\n        \"day\": 1,\n        \"title\": \"Downtown Delights\",\n        \"activities\": [\n          {\n            \"name\": \"Fremont Street Experience\",\n            \"details\": \"Walk under the iconic canopy of lights, enjoy free live music, and people-watch.\",\n            \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Fremont_Street_Experience_at_night.jpg/1280px-Fremont_Street_Experience_at_night.jpg\",\n            \"geo_coordinates\": [36.1695, -115.1422],\n            \"ticket_pricing\": \"Free\",\n            \"time\": \"10:00 AM - 1:00 PM\"\n          },\n          {\n            \"name\": \"Golden Nugget Casino\",\n            \"details\": \"Explore the casino, check out the famous shark tank, and have lunch at one of the many restaurants.\",\n            \"image_url\": \"https://www.golden nugget.com/las-vegas/media/images/homepage-hero-images/GNLV_HeroImage_Desktop.jpg\",\n            \"geo_coordinates\": [36.1693, -115.1416],\n            \"ticket_pricing\": \"Free\",\n            \"time\": \"1:00 PM - 4:00 PM\"\n          },\n          {\n            \"name\": \"Mob Museum\",\n            \"details\": \"Learn about the history of organized crime in Las Vegas and the United States.\",\n            \"image_url\": \"https://www.themobmuseum.org/sites/default/files/styles/hero_desktop/public/media/hero_images/mob_museum_exterior_hero.jpg\",\n            \"geo_coordinates\": [36.1696, -115.1409],\n            \"ticket_pricing\": \"$25 - $30\",\n            \"time\": \"4:00 PM - 7:00 PM\"\n          },\n          {\n            \"name\": \"Dinner at a Downtown Restaurant\",\n            \"details\": \"Enjoy a casual dinner at a local restaurant in Downtown Las Vegas.\",\n            \"image_url\": \"https://www.visitlasvegas.com/media/images/las-vegas-restaurants-header.jpg\",\n            \"geo_coordinates\": \"N/A\",\n            \"ticket_pricing\": \"Varies\",\n            \"time\": \"7:00 PM - 9:00 PM\"\n          }\n        ]\n      },\n      {\n        \"day\": 2,\n        \"title\": \"Strip Stroll and Entertainment\",\n        \"activities\": [\n          {\n            \"name\": \"Walk the Las Vegas Strip\",\n            \"details\": \"Admire the iconic hotels, see the fountains at the Bellagio, and check out the people-watching opportunities.\",\n            \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Las_Vegas_Strip_panorama.jpg/1280px-Las_Vegas_Strip_panorama.jpg\",\n            \"geo_coordinates\": [36.1146, -115.1721],\n            \"ticket_pricing\": \"Free\",\n            \"time\": \"10:00 AM - 1:00 PM\"\n          },\n          {\n            \"name\": \"Free Show at the Bellagio Fountains\",\n            \"details\": \"Watch the spectacular water and music show in front of the Bellagio Hotel.\",\n            \"image_url\": \"https://www.bellagio.com/content/dam/bellagio/images/fountains-of-bellagio/fountains-hero.jpg\",\n            \"geo_coordinates\": [36.1147, -115.1732],\n            \"ticket_pricing\": \"Free\",\n            \"time\": \"1:00 PM - 2:00 PM\"\n          },\n          {\n            \"name\": \"Linq Promenade\",\n            \"details\": \"Explore the outdoor shopping and dining promenade, ride the High Roller observation wheel.\",\n            \"image_url\": \"https://www.linq.com/media/images/hero/linq-promenade-hero-image.jpg\",\n            \"geo_coordinates\": [36.1120, -115.1724],\n            \"ticket_pricing\": \"High Roller: $25 - $35\",\n            \"time\": \"2:00 PM - 5:00 PM\"\n          },\n          {\n            \"name\": \"Free Show at Caesar's Palace\",\n            \"details\": \"Enjoy a free show at the Forum Shops at Caesar's Palace.\",\n            \"image_url\": \"https://www.caesars.com/content/dam/caesars/las-vegas/images/hero/hero-las-vegas.jpg\",\n            \"geo_coordinates\": [36.1170, -115.1712],\n            \"ticket_pricing\": \"Free\",\n            \"time\": \"5:00 PM - 6:00 PM\"\n          },\n          {\n            \"name\": \"Dinner at a Strip Buffet\",\n            \"details\": \"Enjoy a reasonably priced dinner at a buffet on the Strip.\",\n            \"image_url\": \"https://www.visitlasvegas.com/media/images/las-vegas-restaurants-header.jpg\",\n            \"geo_coordinates\": \"N/A\",\n            \"ticket_pricing\": \"Varies\",\n            \"time\": \"6:00 PM - 8:00 PM\"\n          }\n        ]\n      },\n      {\n        \"day\": 3,\n        \"title\": \"Nature and Outdoor Adventures\",\n        \"activities\": [\n          {\n            \"name\": \"Red Rock Canyon National Conservation Area\",\n            \"details\": \"Enjoy scenic drives, hiking, and rock climbing amidst red rock formations.\",\n            \"image_url\": \"https://www.nps.gov/redr/learn/nature/images/Red%20Rock%20Canyon%20-%20Scenic%20Drive.jpg\",\n            \"geo_coordinates\": [36.1319, -115.2678],\n            \"ticket_pricing\": \"$15 per vehicle\",\n            \"time\": \"9:00 AM - 12:00 PM\"\n          },\n          {\n            \"name\": \"Lake Mead National Recreation Area\",\n            \"details\": \"Explore the largest reservoir in the United States, go boating, fishing, or hiking.\",\n            \"image_url\": \"https://www.nps.gov/lame/learn/nature/images/lakemead_color1.jpg\",\n            \"geo_coordinates\": [36.0664, -114.9031],\n            \"ticket_pricing\": \"Entrance fee: $30 per vehicle\",\n            \"time\": \"12:00 PM - 4:00 PM\"\n          },\n          {\n            \"name\": \"Sunset at the Stratosphere Tower\",\n            \"details\": \"Watch the sunset from the observation deck of the Stratosphere Tower for panoramic city views.\",\n            \"image_url\": \"https://www.stratospherehotel.com/media/images/hero-images/stratosphere-tower-sunset-views.jpg\",\n            \"geo_coordinates\": [36.1738, -115.1427],\n            \"ticket_pricing\": \"$20 - $25\",\n            \"time\": \"4:00 PM - 6:00 PM\"\n          },\n          {\n            \"name\": \"Dinner at a Casino Buffet\",\n            \"details\": \"Enjoy a final dinner at a casino buffet on the Strip for a variety of food options.\",\n            \"image_url\": \"https://www.visitlasvegas.com/media/images/las-vegas-restaurants-header.jpg\",\n            \"geo_coordinates\": \"N/A\",\n            \"ticket_pricing\": \"Varies\",\n            \"time\": \"6:00 PM - 8:00 PM\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Explanation:**\n\nThis JSON object represents a 3-day travel plan for a couple in Las Vegas on a cheap budget. It includes:\n\n* **Trip Information:** Location, duration, number of travelers, and budget.\n* **Hotel Options:** A list of affordable hotels with their names, addresses, prices, image URLs, geo-coordinates, ratings, and brief descriptions.\n* **Itinerary:** A day-by-day breakdown of activities, including:\n    * **Day:** Day of the trip.\n    * **Title:** Theme of the day's activities.\n    * **Activities:** List of places to visit with details like:\n        * **Name:** Name of the place.\n        * **Details:** Brief description of the place and what to expect.\n        * **Image URL:** Link to an image of the place.\n        * **Geo-coordinates:** Latitude and longitude for finding the place on a map.\n        * **Ticket Pricing:** Entry fees or ticket costs.\n        * **Time:** Suggested time to visit.\n\n**Notes:**\n\n* This itinerary is a suggestion, and you can customize it based on your preferences and interests.\n* The prices listed are approximate and can vary depending on the season and availability.\n* Consider using public transportation or ride-sharing services to save on transportation costs.\n* Look for free or discounted activities and attractions to make your trip more affordable.\n* Remember to book accommodations and attractions in advance, especially during peak season. \n* This is a rough guide and prices, timetables, and opening hours can change. Always check the latest information before you travel. \n"},
          ],
        },
      ],
    });
  
   
